import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
import "./nbb_goog_string.js";
const shadow_esm_import = function(x) { return import(x) };
import*as esm_import$node_fs from"node:fs";
var RQa=function(a){if(a instanceof $APP.t)return new $APP.h(null,1,[$APP.W,a],null);if($APP.pf(a)){a=$APP.x.h($APP.zm,$APP.v(a))?$APP.Le(a):a;var b=$APP.u(a);a=$APP.v(b);b=$APP.w(b);a=new $APP.h(null,1,[$APP.W,a],null);for(b=$APP.u(b);;)if(b){var c=$APP.v(b);switch(c instanceof $APP.F?c.ga:null){case "as":a=$APP.kk.j(a,$APP.gr,$APP.Le(b));b=$APP.Oe(b);continue;case "refer":c=$APP.Le(b);$APP.pf(c)?(a=$APP.kk.j(a,$APP.uv,$APP.Le(b)),b=$APP.Oe(b)):b=$APP.Oe(b);continue;default:b=$APP.Oe(b)}}else return a}else return null},
SQa=function(a){var b=$APP.vh(a);a=$APP.C.h(b,$APP.W);b=$APP.C.h(b,$APP.gr);return new $APP.G(null,3,5,$APP.I,[a,$APP.gr,b],null)},TQa=function(a){return $APP.aq.h(function(b){if($APP.pf(b)){var c=$APP.v(b);return $APP.x.h($APP.fq,c)?(b=$APP.aq.h(RQa,$APP.ge(b)),b=$APP.Wk.h(SQa,b),$APP.jw.h($APP.fq,b)):null}return b},a)},UQa=function(a){return $APP.aq.h(function(b){return $APP.of(b)&&$APP.x.h($APP.zm,$APP.v(b))?$APP.Le(b):null},a)},VQa=function(a){a=UQa($APP.ge(a));a=$APP.Wk.h(RQa,a);return $APP.jw.h($APP.EJ,
$APP.Wk.h(function(b){return new $APP.D(null,$APP.zm,new $APP.D(null,SQa(b),null,1,null),2,null)},a))},WQa=function(a){a=UQa($APP.ge(a));a=$APP.Wk.h(function(b){return new $APP.D(null,$APP.zm,new $APP.D(null,b,null,1,null),2,null)},a);return $APP.u(a)?$APP.jw.h($APP.CS,a):null},g6=function(a){var b=$APP.q($APP.Gt);return[$APP.l(b)?[$APP.m.g(b),":"].join(""):null,$APP.m.g($APP.yn(a)),":",$APP.m.g($APP.zn(a))].join("")},XQa=function(a){var b=$APP.vh(a);a=$APP.C.h(b,$APP.Kv);b=$APP.C.h(b,h6);a=$APP.kk.j(a,
$APP.Gv,!0);var c=$APP.sh([$APP.Xt,$APP.q($APP.Xt),$APP.Gt,$APP.q($APP.Gt),$APP.CT,$APP.Mf]);$APP.et(c);try{var d=$APP.u(b);b=null;for(var e=c=0;;)if(e<c){for(var f=b.U(null,e),k=$APP.Ds(f);;){try{var n=$APP.qy.j(a,k,new $APP.h(null,1,[$APP.Pr,new $APP.nk(null,new $APP.h(null,2,[$APP.ry,null,$APP.sy,null],null),null)],null))}catch(fa){console.log($APP.hm(fa)),n=console.error("[babashka]","Ignoring read error while assembling uberscript near",g6(k))}if($APP.x.h($APP.dL,n))break;else if($APP.of(n)){var r=
$APP.v(n),p=$APP.x.h($APP.sm,r)?TQa(n):$APP.x.h($APP.EJ,r)?VQa(n):$APP.x.h($APP.CS,r)?WQa(n):null;if($APP.l(p))try{$APP.Lx(a,p)}catch(fa){console.log(fa),console.error("[babashka]","Ignoring read error while assembling uberscript near",g6(k))}}}e+=1}else{var y=$APP.u(d);if(y){var z=y;if($APP.gf(z)){var E=$APP.yd(z),H=$APP.zd(z);z=E;var P=$APP.Ge(E);d=H;b=z;c=P}else{f=$APP.v(z);for(var V=$APP.Ds(f);;){try{var X=$APP.qy.j(a,V,new $APP.h(null,1,[$APP.Pr,new $APP.nk(null,new $APP.h(null,2,[$APP.ry,null,
$APP.sy,null],null),null)],null))}catch(fa){console.log($APP.hm(fa)),X=console.error("[babashka]","Ignoring read error while assembling uberscript near",g6(V))}if($APP.x.h($APP.dL,X))break;else if($APP.of(X)){var aa=$APP.v(X),ca=$APP.x.h($APP.sm,aa)?TQa(X):$APP.x.h($APP.EJ,aa)?VQa(X):$APP.x.h($APP.CS,aa)?WQa(X):null;if($APP.l(ca))try{$APP.Lx(a,ca)}catch(fa){console.log(fa),console.error("[babashka]","Ignoring read error while assembling uberscript near",g6(V))}}}d=$APP.w(z);b=null;c=0}e=0}else break}}finally{$APP.gt()}},
h6=new $APP.F(null,"expressions","expressions",255689909);(function(){function a(Za){return $APP.yl.h(p,function(cb){return[$APP.m.g(cb),$APP.jk.h("",cb)?"\n":null,$APP.m.g(Za)].join("")})}var b=$APP.q($APP.sV);b=$APP.vh(b);b=$APP.C.h(b,$APP.nO);var c=$APP.vh(b);b=$APP.C.h(c,$APP.nq);var d=$APP.C.h(c,$APP.cq),e=$APP.C.h(c,$APP.Bp);c=$APP.JF.g(b);var f=function(){var Za=$APP.v(d);return $APP.l(Za)?Za:$APP.v(e)}(),k=$APP.xl.g($APP.fe),n=$APP.xl.g($APP.oi),r=$APP.xl.g($APP.fe),p=$APP.xl.g(""),y=$APP.fy(),z=$APP.Jx(y,"(set (map ns-name (all-ns)))");y=$APP.Hx(y,
new $APP.h(null,1,[$APP.Iv,function(Za){Za=$APP.vh(Za);var cb=$APP.C.h(Za,$APP.Jv);Za=$APP.C.h(Za,$APP.Kv);var kb=$APP.C.h($APP.mya,cb);"string"===typeof cb?$APP.yl.j(k,$APP.Ng,$APP.v($APP.hn.j(cb,/\$/,2))):$APP.x.h($APP.SL,cb)?($APP.yl.j(n,$APP.Ng,"./nbb_reagent.js"),$APP.yl.j(k,$APP.Ng,"react")):$APP.x.h($APP.EQ,cb)?$APP.yl.j(n,$APP.Ng,"./nbb_reagent.js"):$APP.x.h($APP.sJ,cb)?($APP.yl.j(n,$APP.Ng,"./nbb_reagent_dom_server.js"),$APP.yl.B(k,$APP.Ng,"react","react-dom/server")):$APP.l(kb)?$APP.yl.j(n,
$APP.Ng,kb):cb instanceof $APP.t&&!$APP.zf(z,cb)&&(cb=$APP.bn($APP.bn($APP.m.g(cb),".","/"),"-","_"),cb=$APP.Vfa(cb),cb=esm_import$node_fs.readFileSync(cb,"utf-8"),$APP.yl.j(r,$APP.Ng,cb),XQa(new $APP.h(null,2,[$APP.Kv,Za,h6,new $APP.G(null,1,5,$APP.I,[cb],null)],null)));return $APP.th}],null));if($APP.l(c))return $APP.VB.l($APP.B(["\nBundle: produce single JS file for usage with bundlers.\n\nUsage:\n\n  nbb bundle \x3cinput.cljs\x3e [opts]\n\nOptions:\n\n -o, --out [file]  Write to file instead of stdout"]));
c=$APP.zV;$APP.zV=!0;try{var E=esm_import$node_fs.readFileSync(f,"utf-8");$APP.yl.j(r,$APP.Ng,E);XQa(new $APP.h(null,2,[$APP.Kv,y,h6,new $APP.G(null,1,5,$APP.I,[E],null)],null));a($APP.S5("import { loadFile, loadString, registerModule } from '%s'","nbb"));var H=$APP.u($APP.JB.g($APP.q(k)));E=null;for(y=f=0;;)if(y<f){var P=E.U(null,y),V=$APP.Jm(P),X=$APP.bn($APP.m.g(V),".","_dot_");a($APP.S5("import * as %s from '%s'",X,P));a($APP.S5("registerModule(%s, '%s')",X,P));y+=1}else{var aa=$APP.u(H);if(aa){var ca=
aa;if($APP.gf(ca)){var fa=$APP.yd(ca),ma=$APP.zd(ca);ca=fa;var oa=$APP.Ge(fa);H=ma;E=ca;f=oa}else{var ka=$APP.v(ca),T=$APP.Jm(ka),N=$APP.bn($APP.m.g(T),".","_dot_");a($APP.S5("import * as %s from '%s'",N,ka));a($APP.S5("registerModule(%s, '%s')",N,ka));H=$APP.w(ca);E=null;f=0}y=0}else break}var U=$APP.u($APP.JB.g($APP.q(n)));H=null;for(V=P=0;;)if(V<P){var R=H.U(null,V);a($APP.S5("import '%s/lib/%s'","nbb",R));V+=1}else{var S=$APP.u(U);if(S){X=S;if($APP.gf(X)){var ha=$APP.yd(X),na=$APP.zd(X);X=ha;
var ba=$APP.Ge(ha);U=na;H=X;P=ba}else{var la=$APP.v(X);a($APP.S5("import '%s/lib/%s'","nbb",la));U=$APP.w(X);H=null;P=0}V=0}else break}var qa=$APP.u($APP.JB.g($APP.q(r)));U=null;for(S=R=0;;)if(S<R){var sa=U.U(null,S);a($APP.S5("await loadString(%s, {disableConfig: true})",$APP.tl.l($APP.B([sa]))));S+=1}else{var za=$APP.u(qa);if(za){ha=za;if($APP.gf(ha)){var La=$APP.yd(ha),Sa=$APP.zd(ha);ha=La;var Wa=$APP.Ge(La);qa=Sa;U=ha;R=Wa}else{var Ta=$APP.v(ha);a($APP.S5("await loadString(%s, {disableConfig: true})",
$APP.tl.l($APP.B([Ta]))));qa=$APP.w(ha);U=null;R=0}S=0}else break}var ab=$APP.Zra.g(b);return $APP.l(ab)?esm_import$node_fs.writeFileSync(ab,$APP.q(p),"utf-8"):$APP.VB.l($APP.B([$APP.q(p)]))}finally{$APP.zV=c}})();